@page "Director_Movie"
@model Project2.Pages.Movies.IndexModel
@{
}

<h1>List of movies</h1>

<main style="display: flex; gap: 30px;">
    <div style="width:20%;">
        <div>
            <h4>Directors</h4>
        </div>
        <div style="display: flex; flex-direction: column">
            @{
                foreach(var d in Model.Directors)
                {
                    <a href="#">@d.FullName</a>
                }
            }
        </div>
    </div>

    <div>
        <table>
            <thead>
                <tr>
                    <th>Title</th>
                    <th>Release Date</th>
                    <th>Description</th>
                    <th>Language</th>
                    <th>Director</th>
                    <th>Producer</th>
                    <th>Star</th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                @{
                    foreach(var c in Model.Movies)
                    {
                        <tr>
                            <td>@c.Title</td>
                            <td>@c.ReleaseDate</td>
                            <td style="width:50%;">@c.Description</td>
                            <td>@c.Language</td>
                            <td>@c.Director.FullName</td>
                            <td>@c.Producer.Name</td>
                            @{
                                foreach(var p in c.Stars)
                                {
                                    <td style="">@p.FullName</td>
                                }
                            }
                            <td><a href="#">Delete</a></td>
                        </tr>
                    }
                }
            </tbody>
        </table>
    </div>
</main>